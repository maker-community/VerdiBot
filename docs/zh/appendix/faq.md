# 常见问题

本页面收集了VerdiBot制作过程中的常见问题和解决方案。

## 硬件相关问题

### PCB制作问题

#### Q: PCB制作商说我的设计有DRC错误？
**A: 设计规则检查(DRC)错误的处理方法**

1. **检查最小线宽间距**
   ```
   - 确保线宽 ≥ 0.1mm (4mil)
   - 确保间距 ≥ 0.1mm (4mil)
   - 检查过孔尺寸 ≥ 0.2mm (8mil)
   ```

2. **修正设计文件**
   - 使用立创EDA打开源文件
   - 运行DRC检查工具
   - 逐一修正错误项目
   - 重新导出Gerber文件

3. **联系社区**
   - 加入QQ群：816250966
   - 分享DRC报告截图
   - 获取技术支持

#### Q: PCB价格比预期高很多？
**A: 降低PCB成本的方法**

- **数量优化**: 5-10片的单价比1-2片低很多
- **工艺选择**: 选择HASL无铅，避免特殊工艺
- **尺寸优化**: 检查是否可以优化板子尺寸
- **多家比价**: 对比嘉立创、华强PCB等价格

#### Q: 收到PCB后发现尺寸不对？
**A: 尺寸问题的处理步骤**

1. **确认设计文件**
   - 检查原始设计尺寸
   - 确认导出设置正确

2. **测量实际尺寸**
   - 使用卡尺精确测量
   - 对比设计图纸尺寸

3. **联系制造商**
   - 提供测量数据
   - 申请重新制作或退换

### 3D打印问题

#### Q: 打印件翘曲严重？
**A: 解决翘曲的方法**

**材料方面:**
- PLA: 热床温度50-60°C
- PETG: 热床温度70-80°C  
- ABS: 热床温度90-100°C + 封闭环境

**设置优化:**
- 使用Brim或Raft增加附着力
- 第一层打印速度降低到20-30mm/s
- 检查热床调平是否准确

**环境控制:**
- 避免空调直吹
- 使用打印箱体减少温差
- 检查打印平台清洁度

#### Q: 打印件精度不够，孔径不准确？
**A: 提高精度的方法**

```yaml
切片设置优化:
  - 层高: 降低到0.15mm
  - 打印速度: 降低到40mm/s
  - 外壁厚度: 增加到3层
  - 填充密度: 提高到20%

后处理:
  - 使用钻头扩孔到准确尺寸
  - 攻丝处理螺纹孔
  - 砂纸打磨配合面
```

#### Q: 支撑难以去除？
**A: 支撑处理技巧**

- **设置优化**: 支撑接触距离0.2mm，密度15%
- **工具使用**: 斜口钳、小刀、锉刀
- **材料选择**: 考虑使用PVA水溶性支撑
- **设计优化**: 调整打印方向减少支撑需求

### 焊接问题

#### Q: SMD元器件焊接困难？
**A: SMD焊接技巧**

**工具准备:**
- 尖头烙铁 (0.5-1mm烙铁头)
- 细焊锡丝 (0.6mm)
- 助焊剂
- 放大镜或显微镜

**焊接步骤:**
1. 先焊接一个引脚固定元件
2. 涂抹适量助焊剂  
3. 逐个焊接其他引脚
4. 检查短路和虚焊

**常见错误:**
- 温度过高导致元件损坏 → 控制在300-320°C
- 焊锡过多导致短路 → 使用细焊锡丝
- 没有预热导致虚焊 → 充分预热焊盘

#### Q: 焊接后电路不工作？
**A: 电路调试步骤**

**基础检查:**
```bash
1. 电源电压检查
   - 测量电源输出电压
   - 检查极性是否正确
   
2. 短路检查  
   - 万用表测量电源与地之间电阻
   - 应该 > 1MΩ，如果很小说明短路

3. 元器件检查
   - 确认元器件型号正确
   - 检查焊接质量
   - 查看元器件方向（特别是二极管、IC）
```

**系统调试:**
```bash
4. 分模块测试
   - 先测试电源模块
   - 再测试各个功能模块
   - 最后整体联调

5. 信号追踪
   - 使用示波器查看信号波形
   - 检查时钟信号是否正常
   - 验证通信协议时序
```

## 软件相关问题

### 系统安装问题

#### Q: 树莓派无法启动？
**A: 启动问题诊断**

**SD卡检查:**
- 重新格式化SD卡 (FAT32格式)
- 使用官方Raspberry Pi Imager重新烧录
- 尝试不同品牌的SD卡
- 检查SD卡是否有物理损坏

**硬件检查:**
- 确认电源电压和电流足够 (5V/3A for Pi5, 5V/2.5A for Zero2W)
- 检查电源线质量，避免压降
- 确认SD卡插入到位
- 检查HDMI连接 (如果使用显示器)

**指示灯状态:**
- 红灯常亮: 电源正常
- 绿灯闪烁: 系统正在启动
- 绿灯不亮: SD卡或系统问题

#### Q: SSH连接不上？
**A: SSH连接问题解决**

**网络检查:**
```bash
# 1. 检查设备是否在网络中
nmap -sn 192.168.1.0/24

# 2. 检查特定IP是否响应
ping 192.168.1.xxx

# 3. 检查SSH端口是否开放
nmap -p 22 192.168.1.xxx
```

**SSH服务检查:**
```bash
# 连接显示器直接操作
sudo systemctl status ssh
sudo systemctl enable ssh
sudo systemctl start ssh
```

**防火墙检查:**
```bash
sudo ufw status
sudo ufw allow ssh
```

#### Q: GPIO控制不工作？
**A: GPIO权限和配置**

**权限问题:**
```bash
# 添加用户到gpio组
sudo usermod -aG gpio $USER

# 重新登录或重启
sudo reboot
```

**接口使能:**
```bash
# 使用raspi-config启用接口
sudo raspi-config
# Interface Options → SPI/I2C/GPIO
```

**软件测试:**
```python
# 简单GPIO测试代码
import RPi.GPIO as GPIO
import time

GPIO.setmode(GPIO.BCM)
GPIO.setup(18, GPIO.OUT)

try:
    for i in range(10):
        GPIO.output(18, GPIO.HIGH)
        time.sleep(0.5)
        GPIO.output(18, GPIO.LOW)
        time.sleep(0.5)
finally:
    GPIO.cleanup()
```

### 软件配置问题

#### Q: 语音识别不工作？
**A: 音频配置检查**

**设备检查:**
```bash
# 列出音频设备
aplay -l    # 播放设备
arecord -l  # 录音设备

# 测试麦克风
arecord -D plughw:1,0 -f cd -t wav -d 5 test.wav
aplay test.wav
```

**权限配置:**
```bash
# 添加用户到audio组
sudo usermod -aG audio $USER

# 配置pulseaudio
pulseaudio --start
```

**API配置:**
检查`config/config.json`中的语音API配置是否正确。

#### Q: 显示屏不显示内容？
**A: 显示模块调试**

**连接检查:**
- 确认SPI/I2C连接正确
- 检查供电电压 (通常3.3V)
- 验证线序和引脚定义

**软件测试:**
```bash
# I2C设备扫描
sudo i2cdetect -y 1

# SPI接口测试
ls -la /dev/spi*
```

**驱动配置:**
在`/boot/config.txt`中确认相关接口已启用：
```
dtparam=spi=on
dtparam=i2c_arm=on
```

## 组装相关问题

### 机械装配问题

#### Q: 3D打印件配合过紧？
**A: 配合调整方法**

**打印精度:**
- 重新校准打印机
- 调整切片软件补偿参数
- 使用更细的层高设置

**后处理:**
```bash
手工调整:
- 使用锉刀或砂纸打磨配合面
- 从粗到细逐步打磨 (400 → 800 → 1200目)
- 试装验证，反复调整
```

#### Q: 螺丝孔位不准确？
**A: 孔位修正方法**

**扩孔处理:**
- 使用钻头手工扩孔
- 从小到大逐步扩大
- 注意保持垂直度

**攻丝处理:**
- M2、M3螺纹攻丝
- 使用切削油润滑
- 手工攻丝保证垂直度

#### Q: 关节活动不顺畅？
**A: 关节调整技巧**

**间隙调整:**
- 检查设计间隙是否合理 (通常0.2-0.3mm)
- 打磨接触面使其光滑
- 添加适量润滑脂

**轴承安装:**
- 确认轴承型号正确
- 检查轴承座孔径
- 轴承安装后不应有晃动

## 性能优化问题

### 系统性能

#### Q: Zero 2W运行卡顿？
**A: 性能优化建议**

**系统优化:**
```bash
# 禁用不必要服务
sudo systemctl disable bluetooth
sudo systemctl disable cups

# 减少GPU内存分配
echo "gpu_mem=16" | sudo tee -a /boot/config.txt

# 启用zram交换
sudo apt install -y zram-tools
```

**代码优化:**
- 降低显示刷新频率
- 简化UI界面
- 减少后台任务

#### Q: 电池续航时间短？
**A: 功耗优化方法**

**硬件优化:**
- 降低CPU频率
- 关闭不用的接口 (HDMI, USB等)
- 使用低功耗元器件

**软件优化:**
```bash
# CPU调频设置
echo "conservative" | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor

# 关闭HDMI输出 (可节省约25mA)
sudo /opt/vc/bin/tvservice -o
```

---

## 获取更多帮助

如果以上方案都无法解决你的问题，可以通过以下渠道获取帮助：

### 社区支持
- **QQ复刻群**: 816250966 (最快响应)
- **GitHub Issues**: [提交问题](https://github.com/maker-community/VerdiBot/issues)
- **B站评论**: [绿荫阿广的视频](https://space.bilibili.com/25228512)

### 提问建议

为了更快获得帮助，提问时请提供：

1. **详细描述问题**: 现象、出现条件、已尝试的解决方法
2. **硬件方案**: Pi 5还是Zero 2W版本
3. **系统信息**: 操作系统版本、软件版本
4. **错误日志**: 完整的错误信息和日志
5. **图片视频**: 如果涉及硬件问题，提供实物照片

::: tip 提问模板
**问题描述**: [详细描述遇到的问题]  
**硬件方案**: [Pi 5 / Zero 2W]  
**操作系统**: [Raspberry Pi OS 版本]  
**复现步骤**: [问题出现的具体步骤]  
**错误信息**: [完整的错误日志]  
**已尝试方法**: [已经试过的解决方案]
:::

**相关页面**: 
- [资源链接](/zh/appendix/resources)
- [社区支持](/zh/appendix/community)