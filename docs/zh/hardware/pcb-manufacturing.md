# PCB制作指南

本指南将详细介绍VerdiBot的PCB制作过程，包括设计文件获取、制造商选择、工艺参数设置等。

## PCB设计文件

### 获取设计文件

所有PCB设计文件已在立创EDA平台开源，你可以通过以下方式获取：

1. **立创开源社区**: https://oshwhub.com/greenshade/verdibot
2. **GitHub仓库**: [maker-community/VerdiBot](https://github.com/maker-community/VerdiBot)

### PCB模块说明

VerdiBot包含以下PCB模块：

#### 主控扩展板
- **功能**: 树莓派接口扩展和电源管理
- **尺寸**: 85mm × 56mm
- **层数**: 4层板
- **厚度**: 1.6mm

#### 显示驱动板
- **功能**: 主屏幕和OLED屏幕驱动
- **尺寸**: 65mm × 40mm  
- **层数**: 2层板
- **厚度**: 1.6mm

#### 音频处理板
- **功能**: 音频放大和I2S信号处理
- **尺寸**: 45mm × 35mm
- **层数**: 2层板
- **厚度**: 1.2mm

#### 传感器集成板
- **功能**: 各种传感器集成和信号处理
- **尺寸**: 40mm × 30mm
- **层数**: 2层板
- **厚度**: 1.2mm

## 制造工艺参数

### 树莓派5版本工艺要求

```yaml
基本参数:
  - 基材: FR4
  - 层数: 主板4层，其他2层
  - 厚度: 1.6mm (主板), 1.2mm (其他)
  - 铜厚: 1oz (35μm)

精度要求:
  - 最小线宽: 0.1mm (4mil)
  - 最小间距: 0.1mm (4mil)
  - 最小过孔: 0.2mm (8mil)
  - 环宽: ≥0.05mm (2mil)

表面处理:
  - 主推: HASL无铅 (经济选择)
  - 推荐: ENIG化金 (更好的焊接性)
  - 可选: OSP (成本最低)

阻焊层:
  - 颜色: 绿色 (推荐)
  - 可选: 蓝色、黑色、红色
  - 字符: 白色丝印

特殊要求:
  - 阻抗控制: 50Ω ±10% (高速信号线)
  - 盲埋孔: 不需要
  - 压合方式: 普通压合
```

### 树莓派Zero 2W版本工艺要求

```yaml
基本参数:
  - 基材: FR4
  - 层数: 全部2层板
  - 厚度: 1.2mm
  - 铜厚: 1oz (35μm)

精度要求:
  - 最小线宽: 0.15mm (6mil)
  - 最小间距: 0.15mm (6mil)
  - 最小过孔: 0.25mm (10mil)
  - 环宽: ≥0.075mm (3mil)

表面处理:
  - 推荐: HASL无铅
  - 阻焊: 绿色
  - 字符: 白色丝印
```

## 制造商选择

### 推荐制造商

#### 国内制造商

**1. 嘉立创PCB**
- **优势**: 价格便宜，交期快，质量稳定
- **适用**: 样品和小批量制作
- **联系**: https://www.jlc.com/

**2. 华强PCB**  
- **优势**: 工艺齐全，质量好
- **适用**: 对质量要求较高的项目
- **联系**: https://www.hqpcb.com/

**3. 立创PCB**
- **优势**: 与设计工具集成，方便直接下单
- **适用**: 立创EDA用户
- **联系**: 立创商城

#### 海外制造商

**1. JLCPCB (嘉立创海外版)**
- **优势**: 国际快递，支持海外用户
- **适用**: 海外用户首选

**2. PCBWay**
- **优势**: 工艺选择多，客服服务好
- **适用**: 特殊工艺需求

## 制作流程

### 准备阶段

1. **文件准备**
   ```bash
   # 下载设计文件
   git clone https://github.com/maker-community/VerdiBot.git
   cd VerdiBot/pcb-files
   
   # 检查文件完整性
   ls -la *.gbr  # Gerber文件
   ls -la *.drl  # 钻孔文件
   ls -la *.zip  # 制造包
   ```

2. **文件检查**
   - 确认Gerber文件完整性
   - 检查钻孔文件
   - 验证设计规则检查(DRC)无错误

### 下单流程

#### 嘉立创PCB下单步骤

1. **上传文件**
   - 登录嘉立创官网
   - 选择"立即下单"
   - 上传Gerber压缩包

2. **参数设置**
   ```yaml
   基础参数:
     - 板子数量: 5片起订 (推荐10片)
     - 板子尺寸: 自动识别
     - 层数: 按设计要求选择
     - 板厚: 1.6mm (主板) / 1.2mm (子板)
   
   制造工艺:
     - 表面处理: HASL无铅
     - 铜厚: 1oz
     - 阻焊: 绿色
     - 字符: 白色
   
   特殊要求:
     - 测试架: 飞针测试
     - 交期: 24-48小时
   ```

3. **下单确认**
   - 检查预览图
   - 确认价格和交期
   - 选择快递方式
   - 完成付款

### 质量检查

收到PCB后需要进行质量检查：

#### 外观检查
- [ ] 板材颜色均匀，无明显缺陷
- [ ] 阻焊层完整，无破损
- [ ] 丝印清晰可读
- [ ] 表面处理均匀

#### 电气检查  
```bash
# 使用万用表检查
1. 电源与地之间绝缘电阻 > 10MΩ
2. 同一网络导通电阻 < 1Ω
3. 不同网络间绝缘 > 10MΩ
4. 检查关键信号完整性
```

#### 尺寸检查
- [ ] 板子外形尺寸符合设计
- [ ] 安装孔位置准确
- [ ] 连接器位置对齐

## 常见问题及解决方案

### 制造问题

**Q: PCB制造商反馈线宽太细？**
A: 
- 检查设计规则是否符合制造商能力
- 适当增加线宽到0.1mm以上
- 选择工艺能力更强的制造商

**Q: 价格比预期高很多？**
A:
- 检查是否选择了特殊工艺
- 尝试调整板子数量（通常5-10片性价比最高）
- 比较不同制造商报价

**Q: 交期比预期长？**
A:
- 避开节假日和制造商忙季
- 选择库存充足的标准工艺
- 考虑付费加急服务

### 设计问题

**Q: 下载的文件打不开？**
A:
- 确认使用正确的EDA软件版本
- 检查文件是否完整下载
- 尝试使用立创EDA在线打开

**Q: 发现设计错误怎么办？**
A:
- 立即联系制造商暂停生产
- 修正设计文件后重新下单
- 严重错误可申请取消订单

## 成本优化建议

### 降低成本的方法

1. **拼板制作**
   - 多个小板拼在一起
   - 分摊开版费用
   - 注意拼板工艺要求

2. **批量采购**
   - 10片比5片单价更低
   - 考虑与朋友合并订单
   - 预估后续需求量

3. **工艺选择**
   - 标准工艺比特殊工艺便宜
   - HASL比ENIG便宜
   - 绿色阻焊比其他颜色便宜

4. **设计优化**
   - 避免过小的线宽间距
   - 减少层数（在满足功能前提下）
   - 合理规划板子尺寸

---

::: tip 制作建议
**第一次制作**: 建议选择嘉立创等大厂，工艺稳定，价格便宜  
**批量制作**: 可以考虑本地制造商，方便沟通和加急处理  
**特殊需求**: 选择工艺能力强的专业厂商
:::

::: warning 注意事项
- 制造前务必进行设计规则检查(DRC)
- 保存好原始设计文件，便于后续修改
- 首次制作建议多做几片，以备后续调试使用
:::

**下一步**: [查看物料清单](/zh/hardware/bill-of-materials)